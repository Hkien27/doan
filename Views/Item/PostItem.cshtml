@model SecondHandSharing.Models.Item

@{
    ViewData["Title"] = "ƒêƒÉng tin s·∫£n ph·∫©m";
}

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        background: linear-gradient(135deg, #f5f5f5 0%, #fafafa 100%);
        color: #333;
    }

    .post-container {
        max-width: 900px;
        margin: 40px auto;
        padding: 0 20px;
    }

    .post-header {
        background: linear-gradient(90deg, #ffc107, #ff9800);
        color: white;
        padding: 40px 30px;
        border-radius: 16px;
        margin-bottom: 40px;
        box-shadow: 0 8px 24px rgba(255, 152, 0, 0.2);
    }

    .post-header h2 {
        font-size: 32px;
        font-weight: 700;
        margin: 0;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .post-header p {
        font-size: 16px;
        margin-top: 8px;
        opacity: 0.95;
    }

    .form-wrapper {
        background: white;
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        margin-bottom: 40px;
    }

    .alert {
        padding: 16px 20px;
        border-radius: 12px;
        margin-bottom: 24px;
        font-size: 15px;
        border-left: 4px solid;
        animation: slideDown 0.3s ease-out;
    }

    @@keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .alert-success {
        background: #d4edda;
        color: #155724;
        border-color: #28a745;
    }

    .alert-error {
        background: #f8d7da;
        color: #721c24;
        border-color: #dc3545;
    }

    .form-section-title {
        font-size: 18px;
        font-weight: 600;
        color: #333;
        margin-bottom: 24px;
        padding-bottom: 12px;
        border-bottom: 2px solid #ffc107;
        display: inline-block;
    }

    .form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
        margin-bottom: 32px;
    }

    .form-group {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .form-group label {
        font-size: 15px;
        font-weight: 600;
        color: #333;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
        padding: 14px 16px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 15px;
        font-family: inherit;
        color: #333;
        background: white;
        transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: #ffc107;
        box-shadow: 0 0 0 4px rgba(255, 193, 7, 0.1);
        background: #fffbf0;
    }

    .form-group textarea {
        min-height: 120px;
        resize: vertical;
    }

    .form-full {
        grid-column: 1 / -1;
    }

    .image-upload-section {
        margin-bottom: 40px;
        padding-bottom: 40px;
        border-bottom: 1px solid #eee;
    }

    .upload-area {
        border: 3px dashed #ffc107;
        border-radius: 12px;
        padding: 60px 30px;
        text-align: center;
        background: linear-gradient(135deg, rgba(255, 193, 7, 0.05), rgba(255, 152, 0, 0.05));
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .upload-area:hover {
        border-color: #ff9800;
        background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 152, 0, 0.1));
        transform: translateY(-2px);
    }

    .upload-area input[type="file"] {
        display: none;
    }

    .upload-icon {
        font-size: 48px;
        margin-bottom: 16px;
    }

    .upload-text {
        font-size: 16px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
    }

    .upload-subtext {
        font-size: 14px;
        color: #999;
    }

    .thumbnails {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 12px;
        margin-top: 20px;
    }

    .thumbnail {
        width: 80px;
        height: 80px;
        background: #f0f0f0;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
        overflow: hidden;
    }

    .thumbnail:hover {
        transform: scale(1.08);
        border-color: #ffc107;
    }

    .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .button-group {
        display: flex;
        gap: 16px;
        justify-content: center;
        margin-top: 40px;
        padding-top: 40px;
        border-top: 1px solid #eee;
    }

    .btn {
        padding: 14px 40px;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .btn-primary {
        background: linear-gradient(90deg, #ffc107, #ff9800);
        color: white;
        box-shadow: 0 4px 16px rgba(255, 152, 0, 0.3);
    }

    .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 24px rgba(255, 152, 0, 0.4);
    }

    .btn-primary:active {
        transform: translateY(-1px);
    }

    .btn-secondary {
        background: #f0f0f0;
        color: #333;
        border: 2px solid #ddd;
    }

    .btn-secondary:hover {
        background: #e8e8e8;
        border-color: #999;
    }

    .footer-section {
        background: white;
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 40px;
        margin-top: 40px;
    }

    .footer-column h4 {
        font-size: 15px;
        font-weight: 700;
        color: #333;
        margin-bottom: 16px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .footer-column a {
        display: block;
        margin-bottom: 10px;
        color: #666;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .footer-column a:hover {
        color: #ffc107;
        padding-left: 4px;
    }

    .footer-column p {
        font-size: 14px;
        color: #666;
        margin-top: 16px;
    }

    @@media (max-width: 768px) {
        .post-header {
            padding: 30px 20px;
        }

        .post-header h2 {
            font-size: 24px;
        }

        .form-wrapper {
            padding: 24px;
        }

        .form-grid {
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .upload-area {
            padding: 40px 20px;
        }

        .button-group {
            flex-direction: column;
        }
        .thumbnail img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .thumbnail { display: flex; align-items: center; justify-content: center; background: #eee; border: 1px solid #ddd; }

        .btn {
            width: 100%;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: linear-gradient(135deg, #f5f5f5 0%, #fafafa 100%); color: #333; }
    .post-container { max-width: 900px; margin: 40px auto; padding: 0 20px; }
    .post-header { background: linear-gradient(90deg, #ffc107, #ff9800); color: white; padding: 40px 30px; border-radius: 16px; margin-bottom: 40px; box-shadow: 0 8px 24px rgba(255, 152, 0, 0.2); }
    .post-header h2 { font-size: 32px; font-weight: 700; margin: 0; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
    .post-header p { font-size: 16px; margin-top: 8px; opacity: 0.95; }
    .form-wrapper { background: white; border-radius: 16px; padding: 40px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); margin-bottom: 40px; }
    .alert { padding: 16px 20px; border-radius: 12px; margin-bottom: 24px; font-size: 15px; border-left: 4px solid; animation: slideDown 0.3s ease-out; }
    @@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    .alert-success { background: #d4edda; color: #155724; border-color: #28a745; }
    .alert-error { background: #f8d7da; color: #721c24; border-color: #dc3545; }
    .form-section-title { font-size: 18px; font-weight: 600; color: #333; margin-bottom: 24px; padding-bottom: 12px; border-bottom: 2px solid #ffc107; display: inline-block; }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px; }
    .form-group { display: flex; flex-direction: column; gap: 10px; }
    .form-group label { font-size: 15px; font-weight: 600; color: #333; }
    .form-group input, .form-group select, .form-group textarea { padding: 14px 16px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 15px; font-family: inherit; color: #333; background: white; transition: all 0.3s ease; }
    .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #ffc107; box-shadow: 0 0 0 4px rgba(255, 193, 7, 0.1); background: #fffbf0; }
    .form-group textarea { min-height: 120px; resize: vertical; }
    .form-full { grid-column: 1 / -1; }
    .image-upload-section { margin-bottom: 40px; padding-bottom: 40px; border-bottom: 1px solid #eee; }
    .upload-area { border: 3px dashed #ffc107; border-radius: 12px; padding: 60px 30px; text-align: center; background: linear-gradient(135deg, rgba(255, 193, 7, 0.05), rgba(255, 152, 0, 0.05)); cursor: pointer; transition: all 0.3s ease; }
    .upload-area:hover { border-color: #ff9800; background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 152, 0, 0.1)); transform: translateY(-2px); }
    .upload-area input[type="file"] { display: none; }
    .upload-icon { font-size: 48px; margin-bottom: 16px; }
    .upload-text { font-size: 16px; font-weight: 600; color: #333; margin-bottom: 8px; }
    .upload-subtext { font-size: 14px; color: #999; }
    .thumbnails { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 12px; margin-top: 20px; }
    .thumbnail { width: 80px; height: 80px; background: #f0f0f0; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; overflow: hidden; }
    .thumbnail img { width: 100%; height: 100%; object-fit: cover; }
    .button-group { display: flex; gap: 16px; justify-content: center; margin-top: 40px; padding-top: 40px; border-top: 1px solid #eee; }
    .btn { padding: 14px 40px; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 0.5px; }
    .btn-primary { background: linear-gradient(90deg, #ffc107, #ff9800); color: white; box-shadow: 0 4px 16px rgba(255, 152, 0, 0.3); }
    .btn-secondary { background: #f0f0f0; color: #333; border: 2px solid #ddd; }
    .footer-section { background: white; border-radius: 16px; padding: 40px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-top: 40px; }
    .footer-column h4 { font-size: 15px; font-weight: 700; color: #333; margin-bottom: 16px; text-transform: uppercase; }
    .footer-column a { display: block; margin-bottom: 10px; color: #666; text-decoration: none; font-size: 14px; }
    
    /* M·ªöI: Style cho select b·ªã disable */
    select:disabled { background-color: #f9f9f9 !important; cursor: not-allowed; border-color: #eee !important; color: #aaa !important; }

        .footer-section {
            grid-template-columns: 1fr;
            gap: 24px;
        }
    }
</style>

<div class="post-container">
    <div class="post-header">
        <h2>ƒêƒÉng tin s·∫£n ph·∫©m</h2>
        <p>B√°n s·∫£n ph·∫©m c·ªßa b·∫°n v·ªõi gi√° t·ªët nh·∫•t tr√™n SecondHandSharing</p>
    </div>

    @if (TempData["SuccessMessage"] != null) { <div class="alert alert-success">‚úì @TempData["SuccessMessage"]</div> }
    @if (TempData["ErrorMessage"] != null) { <div class="alert alert-error">‚úó @TempData["ErrorMessage"]</div> }

    <div class="form-wrapper">
        <form asp-action="PostItem" asp-controller="Item" method="post" enctype="multipart/form-data" id="postForm">
    @* C√°c tr∆∞·ªùng ·∫©n ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn d·ªØ li·ªáu *@
    <input type="hidden" asp-for="CreatedAt" value="@DateTime.Now" />
    <input type="hidden" asp-for="IsSold" value="false" />
    <input type="hidden" asp-for="IsBoosted" value="false" />
            
            <div class="image-upload-section">
                <h3 class="form-section-title">H√¨nh ·∫£nh s·∫£n ph·∫©m</h3>
                <div class="upload-area" id="dropZone" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">üì∑</div>
                    <div class="upload-text">T·∫£i ·∫£nh l√™n ho·∫∑c k√©o th·∫£ v√†o ƒë√¢y</div>
                    <div class="upload-subtext">ƒê·ªãnh d·∫°ng: JPG, PNG (t·ªëi ƒëa 10MB)</div>
                    <input type="file" asp-for="ImageFile" id="fileInput" style="display:none" accept="image/*" />
                </div>
                <div class="thumbnails" id="thumbnailContainer">
                    <div class="thumbnail"></div>
                    <div class="thumbnail"></div>
                    <div class="thumbnail"></div>
                    <div class="thumbnail"></div>
                </div>
            </div>

            <h3 class="form-section-title">Th√¥ng tin s·∫£n ph·∫©m</h3>

            <div class="form-grid">
                <div class="form-group form-full">
                    <label>T√™n s·∫£n ph·∫©m *</label>
                    <input asp-for="Title" class="form-control" placeholder="V√≠ d·ª•: iPhone 14 Pro Max..." required />
                    <span asp-validation-for="Title" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label>Danh m·ª•c *</label>
                    <select asp-for="Category" id="categorySelect" class="form-control" required>
                        <option value="">-- Ch·ªçn danh m·ª•c --</option>
                        <option value="XeCo">Xe c·ªô</option>
                        <option value="DienTu">ƒê·ªì ƒëi·ªán t·ª≠</option>
                        <option value="GiaDung">ƒê·ªì gia d·ª•ng</option>
                        <option value="ThuCung">Th√∫ c∆∞ng</option>
                        <option value="NoiThat">N·ªôi th·∫•t</option>
                        <option value="ThoiTrang">Th·ªùi trang</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Lo·∫°i *</label>
                    <select asp-for="Loai" id="loaiSelect" class="form-control" disabled required>
                        <option value="">-- Ch·ªçn lo·∫°i --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>H√£ng *</label>
                    <select asp-for="Hang" id="hangSelect" class="form-control" disabled required>
                        <option value="">-- Ch·ªçn h√£ng --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>T√¨nh tr·∫°ng s·∫£n ph·∫©m *</label>
                    <select asp-for="Condition" class="form-control" required>
                        <option value="M·ªõi">M·ªõi</option>
                        <option value="C≈©">C≈©</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Gi√° b√°n (VNƒê)</label>
                    <div class="input-group" style="display: flex;">
                        <input asp-for="Price" type="number" class="form-control" id="priceInput" style="flex:1" />
                        <span style="padding: 14px; background: #eee; border: 2px solid #e0e0e0; border-left:none; border-radius: 0 10px 10px 0;">ƒë</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Tr·∫°ng th√°i tin *</label>
                    <select asp-for="Status" class="form-control" required>
                        <option value="ƒêang b√°n">ƒêang b√°n</option>
                        <option value="ƒê√£ b√°n">ƒê√£ b√°n</option>
                    </select>
                </div>

                <div class="form-check mb-3 form-full" style="display:flex; align-items:center; gap:10px">
                    <input asp-for="IsFree" class="form-check-input" id="isFreeCheck" type="checkbox" />
                    <label class="form-check-label" for="isFreeCheck">Cho t·∫∑ng mi·ªÖn ph√≠ (kh√¥ng thu ti·ªÅn)</label>
                </div>

                <div class="form-group form-full">
                    <label>ƒê·ªãa ch·ªâ *</label>
                    <input asp-for="Address" class="form-control" placeholder="V√≠ d·ª•: Q1, TP HCM" required />
                </div>

                <div class="form-group form-full">
                    <label>M√¥ t·∫£ chi ti·∫øt *</label>
                    <textarea asp-for="Description" class="form-control" placeholder="M√¥ t·∫£ chi ti·∫øt..." required></textarea>
                </div>
                <div class="form-group form-full">
    <label>Th√¥ng s·ªë chi ti·∫øt (Dung l∆∞·ª£ng, M√†u s·∫Øc, ƒê·ªùi m√°y...)</label>
    <input asp-for="ProductDetail" class="form-control" placeholder="V√≠ d·ª•: 128GB, M√†u xanh, B·∫£n qu·ªëc t·∫ø..." />
    <span asp-validation-for="ProductDetail" class="text-danger"></span>
</div>
            </div>

            <div class="button-group">
                <button type="submit" class="btn btn-primary">ƒêƒÉng tin ngay</button>
                <a href="@Url.Action("Index", "Item")" class="btn btn-secondary">H·ªßy b·ªè</a>
            </div>
        </form>
        
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        const hierarchalData = {
            "XeCo": {
                "Xe s·ªë": ["Honda", "Yamaha", "Suzuki", "Sym", "H√£ng kh√°c"],
                "Xe tay ga": ["Honda", "Yamaha", "Piaggio", "VinFast", "Suzuki"],
                "Xe T·∫£i": ["Hyundai", "JAC", "Isuzu", "Thaco", "Hino", "Dongfeng", "Daehan"],
                "Xe √î t√¥": ["Toyota", "Hyundai", "Kia", "Mazda", "Ford", "Mitsubishi", "VinFast", "Honda"],
                "Xe ƒë·∫°p": ["Asama", "Giant", "Martin 107", "Th·ªëng Nh·∫•t"],
                "Xe ƒëi·ªán": ["Pega", "Yadea", "VinFast", "Dibao"],
                "Ph∆∞∆°ng ti·ªán kh√°c": ["Kh√°c"]
            },
            "DienTu": {
                "ƒêi·ªán tho·∫°i": ["Apple", "Samsung", "Oppo", "Xiaomi", "Vivo", "Realme"],
                "Laptop": ["Apple", "Dell", "HP", "Asus", "Lenovo", "Acer", "MSI"],
                "M√°y t√≠nh b·∫£ng": ["iPad", "Samsung", "Xiaomi"],
                "Loa/Tai nghe": ["Sony", "JBL", "Marshall", "Apple"]
            },
            "GiaDung": {
                "T·ªß l·∫°nh": ["Panasonic", "Toshiba", "Sharp", "Samsung", "LG", "Aqua",],
                "M√°y gi·∫∑t": ["Electrolux", "LG", "Samsung", "Panasonic", "Toshiba", "Aqua"],
                "ƒêi·ªÅu h√≤a": ["Daikin", "Panasonic", "LG", "Casper", "Toshiba", "Sharp"],
                "B√†n gh·∫ø": ["H√≤a Ph√°t", "Xu√¢n H√≤a", "G·ªó ƒê·ª©c Th√†nh", "IKEA", "ƒê·ªì g·ªó m·ªπ ngh·ªá"],
                "Gi∆∞·ªùng": ["G·ªó xoan ƒë√†o", "G·ªó s·ªìi", "S·∫Øt Duy Ph∆∞∆°ng", "Gi∆∞·ªùng t·∫ßng"],
                "D·ª•ng c·ª• b·∫øp": ["Sunhouse", "Lock&Lock", "HappyCook", "Philips", "Tefal"]
            },
            "ThuCung": {
                "Ch√≥": ["Poodle", "Ph√∫ Qu·ªëc", "Corgi", "Alaska", "Golden", "Husky", "Becgie", "Ch√≥ c·ªè"],
                "M√®o": ["Anh l√¥ng ng·∫Øn", "Anh l√¥ng d√†i", "M√®o Ba T∆∞", "M√®o Ta", "M√®o Xi√™m", "M√®o Sphinx"],
                "Chim": ["Ch√†o m√†o", "S∆°n ca", "V·∫πt", "Kh∆∞·ªõu", "Y·∫øn ph·ª•ng"],
                "G√†": ["G√† tre", "G√† ch·ªçi", "G√† ƒê√¥ng T·∫£o", "G√† Serama"]
            },
            "NoiThat": {
                "B√†n gh·∫ø": ["H√≤a Ph√°t", "Xu√¢n H√≤a", "G·ªó ƒê·ª©c Th√†nh", "Kh√°c"],
                "Gi∆∞·ªùng ng·ªß": ["G·ªó xoan ƒë√†o", "G·ªó s·ªìi", "S·∫Øt", "Kh√°c"]
            },
            "ThoiTrang": {
                "Qu·∫ßn": ["Levi's", "PT2000", "Blue Exchange", "Uniqlo", "Owen"],
                "√Åo": ["Nike", "Adidas", "Uniqlo", "Lacoste", "Owen", "An Ph∆∞·ªõc"],
                "V√°y ƒë·∫ßm": ["Zara", "H&M", "Elise", "Ivy Moda", "Gumac"],
                "Gi√†y d√©p": ["Nike", "Adidas", "Bitis", "Converse", "Vans", "Puma"],
                "T√∫i x√°ch": ["Gucci", "LV", "Charles & Keith", "Vascara", "Pedro"],
                "ƒê·ªìng h·ªì": ["Casio", "Rolex", "Citizen", "Apple", "Tissot"]
            }
        };

        document.addEventListener("DOMContentLoaded", function () {
            const categorySelect = document.getElementById("categorySelect");
            const loaiSelect = document.getElementById("loaiSelect");
            const hangSelect = document.getElementById("hangSelect");
            const isFreeCheck = document.getElementById("isFreeCheck");
            const priceInput = document.getElementById("priceInput");
            const fileInput = document.getElementById("fileInput");
            const thumbnails = document.querySelectorAll(".thumbnail");

            // 1. X·ª≠ l√Ω logic ph√¢n c·∫•p
            categorySelect.addEventListener("change", function() {
                const category = this.value;
                loaiSelect.innerHTML = '<option value="">-- Ch·ªçn lo·∫°i --</option>';
                hangSelect.innerHTML = '<option value="">-- Ch·ªçn h√£ng --</option>';
                hangSelect.disabled = true;

                if (category && hierarchalData[category]) {
                    loaiSelect.disabled = false;
                    Object.keys(hierarchalData[category]).forEach(loai => {
                        loaiSelect.add(new Option(loai, loai));
                    });
                } else {
                    loaiSelect.disabled = true;
                }
            });

            loaiSelect.addEventListener("change", function() {
                const category = categorySelect.value;
                const loai = this.value;
                hangSelect.innerHTML = '<option value="">-- Ch·ªçn h√£ng --</option>';

                if (category && loai && hierarchalData[category][loai]) {
                    hangSelect.disabled = false;
                    hierarchalData[category][loai].forEach(hang => {
                        hangSelect.add(new Option(hang, hang));
                    });
                } else {
                    hangSelect.disabled = true;
                }
            });

            // 2. X·ª≠ l√Ω gi√° mi·ªÖn ph√≠
            isFreeCheck.addEventListener("change", function() {
                if (this.checked) {
                    priceInput.value = 0;
                    priceInput.readOnly = true;
                    priceInput.style.backgroundColor = "#eee";
                } else {
                    priceInput.readOnly = false;
                    priceInput.style.backgroundColor = "#fff";
                }
            });

            // 3. Xem tr∆∞·ªõc ·∫£nh (Preview)
            fileInput.addEventListener("change", function() {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        thumbnails[0].innerHTML = `<img src="${e.target.result}" />`;
                    };
                    reader.readAsDataURL(this.files[0]);
                }
            });

            // S·ª≠a l·ªói: Tr∆∞·ªõc khi submit form, ph·∫£i enable c√°c select ƒë·ªÉ ASP.NET nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu
            document.getElementById("postForm").addEventListener("submit", function() {
                loaiSelect.disabled = false;
                hangSelect.disabled = false;
            });
        });
    </script>
}